<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Document</title>
</head>
<body>
<button id="myButton">Click Me</button>

<script>
const button = document.getElementById('myButton');

async function delay(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}

async function delayedForLoop() {
  for (let i = 1; i <= 4; i++) {
    document.body.style.backgroundColor = 'red';
    console.log("test1");
    await delay(2000);
    console.log("test2");
    document.body.style.backgroundColor = 'lightblue';
    await delay(2000);
  }
}

button.addEventListener('click', () => {
  delayedForLoop();
});
</script>
</body>
</html>